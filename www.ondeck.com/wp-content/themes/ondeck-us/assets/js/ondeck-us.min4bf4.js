/*! OnDeck US Theme - v0.1.0
 * http://10up.com
 * Copyright (c) 2018; */
var ONDLocationRedirect=function(a){"use strict";var b=document.querySelector(".modal--redirect"),c=b.querySelector(".modal__close"),d=b.querySelector(".do-redirect"),e=b.querySelector(".no-redirect"),f=function(){var c=h(),e=ONDLocationConfig.locationAPI;""!==ONDLocationConfig.apiKey.trim()&&(e+="?apiKey="+ONDLocationConfig.apiKey),"no"!==c&&a.getJSON(e,function(a){var c,e=b.querySelectorAll(".country2"),f=0;if(a&&a.country_code2)if(c=a.country_code2,"ca"===c.toLowerCase()){for(d.setAttribute("href",ONDLocationConfig.canadaUrl),b.querySelector(".country").innerHTML="Canada",f=0;f<e.length;++f)e[f].innerHTML="Canadian";b.style.display="block"}else if("au"===c.toLowerCase()){for(d.setAttribute("href",ONDLocationConfig.australiaUrl),b.querySelector(".country").innerHTML="Australia",e=b.querySelectorAll(".country2"),f=0;f<e.length;++f)e[f].innerHTML="Australian";b.style.display="block"}})},g=function(a){var b=a.getAttribute("href");window.location=b},h=function(){var a,b,c=document.cookie.split("; "),d=null;for(b=c.length-1;b>=0;b--)if(a=c[b].split("="),"regionalRedirect"===a[0]){d=a[1];break}return d},i=function(a){var b=new Date(Date.now()+7776e6).toUTCString();document.cookie="regionalRedirect="+a+"; domain="+ONDLocationConfig.cookieDomain+"; path=/; expires="+b},j=function(a){Util.closest(a,"modal").style.display="none"};return{init:function(){document.addEventListener("DOMContentLoaded",f),c.addEventListener("click",function(a){a.preventDefault(),j(this)}),d.addEventListener("click",function(a){a.preventDefault(),g(this)}),e.addEventListener("click",function(a){a.preventDefault(),i("no"),j(this)})}}}(jQuery);ONDLocationRedirect.init();